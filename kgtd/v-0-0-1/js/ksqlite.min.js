(async function(){window.KSQLITE=window.KSQLITE||{};KSQLITE.dataBaseName="kunniaaGetThingsDone";KSQLITE.objectStorName="ThingsStore";KSQLITE.db=new Dexie(KSQLITE.dataBaseName);KSQLITE.db.version(1).stores({[KSQLITE.objectStorName]:"key, value"});KSQLITE.storeData=async function(a,b){try{await KSQLITE.db[KSQLITE.objectStorName].put({key:a,value:b})}catch(c){console.error("\u5b58\u50a8\u6570\u636e\u5931\u8d25:",c)}};KSQLITE.getData=async function(a){try{const b=await KSQLITE.db[KSQLITE.objectStorName].get(a);
if(b)return b.value;console.log(`\u672a\u627e\u5230\u6570\u636e: ${a}`);return null}catch(b){return console.error("\u83b7\u53d6\u6570\u636e\u5931\u8d25:",b),null}};KSQLITE.checkKeyExists=async function(a){try{return void 0!==await KSQLITE.db[KSQLITE.objectStorName].get(a)}catch(b){return console.error("\u68c0\u67e5key\u662f\u5426\u5b58\u5728\u65f6\u51fa\u9519:",b),!1}};KSQLITE.createSqliteDB=async function(){var a=await initSqlJs({locateFile:b=>"js/sql-wasm.wasm"});if(KSQLITE.checkKeyExists("kgdt-things-sqlite")){const b=
await KSQLITE.getData("kgdt-things-sqlite");a=new a.Database(new Uint8Array(b))}else a=new a.Database;return a};KSQLITE.writeSqliteDBtoIndexedDB=async function(){const a=KGTD.sqliteDB.export().buffer;await KSQLITE.storeData("kgdt-things-sqlite",a)}})();
