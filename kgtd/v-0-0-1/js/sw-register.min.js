"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(a=>{console.log("ServiceWorker registration successful")}).catch(a=>{console.log("ServiceWorker registration failed:",a)})});
document.addEventListener("DOMContentLoaded",()=>{document.getElementById("loading-screen").style.display="none";document.getElementById("main-content").classList.remove("hidden");const a=document.createElement("div");a.id="db-loading-tip";a.style.cssText="position: fixed; bottom: 10px; right: 10px; background: rgba(0,0,0,0.7); color: white; padding: 8px; border-radius: 4px; font-size: 12px;";a.textContent="\u6b63\u5728\u521d\u59cb\u5316\u6570\u636e\u5e93...";document.body.appendChild(a);const b=
setInterval(()=>{window.KGTD&&window.KGTD.sqliteDB&&(clearInterval(b),a.remove())},100);setTimeout(()=>{clearInterval(b);document.getElementById("db-loading-tip")&&document.getElementById("db-loading-tip").remove()},5E3)});
