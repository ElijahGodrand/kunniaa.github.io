(async function(){window.KGTDEGN=window.KGTD_EGN||{};KGTDEGN.TimeParser={getNow:function(){return new Date},parseSpecificDate:function(a,b){const c=a.match(/(\d{4})\u5e74(\d{1,2})\u6708(\d{1,2})/);return c?new Date(parseInt(c[1]),parseInt(c[2])-1,parseInt(c[3])):(a=a.match(/(\d{1,2})\u6708(\d{1,2})/))?(b=b||this.getNow().getFullYear(),new Date(b,parseInt(a[1])-1,parseInt(a[2]))):null},parseThisWeekday:function(a,b){b="\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split("");if((a=a.match(/(?:\u672c)?\u5468(\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u65e5)/))&&
a[1]&&(b=b.indexOf(a[1]),-1!==b)){a=this.getNow();const c=a.getDay();b-=c;0>b&&(b+=7);a.setDate(a.getDate()+b);return a}return null},parse:function(a,b){let c={originalText:a,date:null,recurring:!1};c.date=this.parseSpecificDate(a,b)||this.parseThisWeekday(a,b);return c}};KGTDEGN.analysisEngine=function(){document.getElementById("reminders-list").innerHTML="";KGTD.updateThingsData();KGTD.thingsData.filter(a=>!a.is_completed).filter(a=>!a.is_hidden).forEach(a=>{if(!a.is_recurring){var b=(new Date(a.local_created_at)).getFullYear();
b=KGTDEGN.TimeParser.parse(a.content,b);if(b.date){const c=new Date;b.date.toDateString()===c.toDateString()&&(b=document.createElement("li"),b.className="py-2 px-4 border-b border-gray-300",b.setAttribute("data-uuid",a.id),b.innerText=a.content,document.getElementById("reminders-list").appendChild(b))}}})};setInterval(KGTDEGN.analysisEngine,1E3)})();
